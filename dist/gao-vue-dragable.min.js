var GaoVueDragable=function(t){"use strict";var e={name:"GaoVueDragable",props:["option","data"],data:function(){return{key:"drag"+(t=Date.parse(new Date),window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)}))),item:{},isDown:!1,dianIsDown:!1,sb_bkx:0,sb_bky:0,start:{}};var t},watch:{data:{handler:function(){this.item=Object.assign({},this.item,this.data)},deep:!0,immediate:!0},option:{handler:function(){console.log("option改变",this.option)},deep:!0,immediate:!0}},computed:{style:function(){return{left:this.setPx(this.item.left),top:this.setPx(this.item.top),width:this.setPx(this.item.width),height:this.setPx(this.item.height),zIndex:this.item.zIndex}},dianStyle:function(){var t=4*(1/this.option.scale||1);return{width:t+"px",height:t+"px"}}},methods:{setPx:function(t){try{return Number(t)+"px"}catch(t){return"0px"}},down:function(t){var e=this;this.option.dragable&&(this.sb_bkx=t.clientX-t.target.offsetLeft,this.sb_bky=t.clientY-t.target.offsetTop,this.start={x:t.clientX,y:t.clientY},this.isDown=!0,document.onmousemove=function(t){e.move(t)},document.onmouseup=function(t){e.up(t)},this.$emit("movestart",{start:this.start,item:this.item}))},move:function(t){if(this.option.dragable&&this.isDown){var e=t.clientX-this.sb_bkx,o=t.clientY-this.sb_bky;this.item.left=e,this.item.top=o;var n={offsetx:t.clientX-this.start.x,offsety:t.clientY-this.start.y};this.$emit("moving",n)}},up:function(t){this.isDown=!1,this.dianIsDown=!1,document.onmousemove=null,document.onmouseup=null,this.$emit("movestop",this.item)},clickStop:function(){return!1},dian:function(t,e,o){var n=this;if(this.option.dragable){this.dianIsDown=!0;var i=t.clientX,a=t.clientY,s=e.width,r=e.height,d=e.left,l=e.top,c=o,u=e;document.onmousemove=function(t){if(n.option.dragable&&n.dianIsDown){var e=t.clientX-i,o=t.clientY-a;switch(c){case"left-top":u.width=n.numVal(s-e),u.height=n.numVal(r-o),u.left=d+e,u.top=l+o;break;case"left-center":u.width=n.numVal(s-e),u.left=d+e;break;case"left-bottom":case"left-bottom":u.width=n.numVal(s-e),u.height=n.numVal(r+o),u.left=d+e;break;case"top":u.height=n.numVal(r-o),u.top=l+o;break;case"bottom":u.height=n.numVal(r+o);break;case"right-top":u.width=n.numVal(s+e),u.height=n.numVal(r-o),u.top=l+o;break;case"right-center":u.width=n.numVal(s+e);break;case"right-bottom":u.width=n.numVal(s+e),u.height=n.numVal(r+o)}}},document.onmouseup=function(t){n.up(t)}}},numVal:function(t){return t<10?10:t},mouseover:function(t){this.option.dragable&&(t.target.classList.add("hover"),this.$emit("focus"))},mouseleave:function(t){this.option.dragable&&(t.target.classList.remove("hover"),this.$emit("blur"))}}};function o(t,e,o,n,i,a,s,r,d,l){"boolean"!=typeof s&&(d=r,r=s,s=!1);const c="function"==typeof o?o.options:o;let u;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),n&&(c._scopeId=n),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):e&&(u=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(c.functional){const t=c.render;c.render=function(e,o){return u.call(o),t(e,o)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,u):[u]}return o}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function i(t){return(t,e)=>function(t,e){const o=n?e.media||"default":t,i=s[o]||(s[o]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===a&&(a=document.head||document.getElementsByTagName("head")[0]),a.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(o),n=i.element.childNodes;n[t]&&i.element.removeChild(n[t]),n.length?i.element.insertBefore(e,n[t]):i.element.appendChild(e)}}}(t,e)}let a;const s={};var r=o({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:t.key,staticClass:"drag",class:{active:t.item.active},style:t.style,attrs:{"data-left":t.item.left,"data-top":t.item.top},on:{mousedown:function(e){return e.stopPropagation(),t.down(e)},mouseover:function(e){return e.stopPropagation(),t.mouseover(e)},mouseleave:t.mouseleave,click:function(e){return e.stopPropagation(),t.clickStop(e)}}},[t._t("default"),t._v(" "),t.item.active?[o("div",{staticClass:"drag-dian drag-left-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"left-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"left-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"left-bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"right-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"right-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.item,"right-bottom")}}})]:t._e()],2)},staticRenderFns:[]},(function(t){t&&t("data-v-1700dd78_0",{source:".drag[data-v-1700dd78]{z-index:1;width:50px;height:50px;position:absolute;cursor:pointer;user-select:none}.drag.active[data-v-1700dd78]::before{font-size:12px;line-height:15px;content:attr(data-left);display:block;position:absolute;left:-100px;top:-15px;width:100px;text-align:right;color:rgba(0,0,255,.5);border-bottom:1px solid rgba(0,0,255,.1);padding-right:20px;box-sizing:border-box}.drag.active[data-v-1700dd78]::after{font-size:12px;line-height:15px;content:attr(data-top);display:block;position:absolute;top:-100px;left:0;padding-right:25px;box-sizing:border-box;width:100px;transform:rotate(90deg);transform-origin:left top;text-align:right;color:rgba(0,0,255,.5);border-top:1px solid rgba(0,0,255,.1)}.drag.hover[data-v-1700dd78]{background-color:rgba(0,0,255,.1)}.drag.active[data-v-1700dd78]{background-color:rgba(0,0,255,.3)}.drag-dian[data-v-1700dd78]{position:absolute;background-color:#fff;border:1px solid #000}.drag-left-top[data-v-1700dd78]{left:-1px;top:-1px;cursor:nw-resize}.drag-left-center[data-v-1700dd78]{left:-1px;top:calc(50% - 1px);cursor:w-resize}.drag-left-bottom[data-v-1700dd78]{left:-1px;bottom:-1px;cursor:sw-resize}.drag-right-top[data-v-1700dd78]{right:-1px;top:-1px;cursor:ne-resize}.drag-right-center[data-v-1700dd78]{right:-1px;top:calc(50% - 1px);cursor:e-resize}.drag-right-bottom[data-v-1700dd78]{right:-1px;bottom:-1px;cursor:se-resize}.drag-top[data-v-1700dd78]{left:calc(50% - 1px);top:-1px;cursor:n-resize}.drag-bottom[data-v-1700dd78]{left:calc(50% - 1px);bottom:-1px;cursor:s-resize}",map:void 0,media:void 0})}),e,"data-v-1700dd78",!1,void 0,!1,i,void 0,void 0),d=function(t){d.installed||(d.installed=!0,t.component("GaoVueDragable",r))},l={install:d},c=null;return"undefined"!=typeof window?c=window.Vue:"undefined"!=typeof global&&(c=global.Vue),c&&c.use(l),r.install=d,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({});