var GaoVueDragable=function(t){"use strict";var e={name:"GaoVueDragable",props:["option","data"],data:function(){return{key:"drag"+(t=Date.parse(new Date),window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)}))),item:{},isDown:!1,dianIsDown:!1,sb_bkx:0,sb_bky:0,start:{},hoverDrag:!1};var t},watch:{option:{handler:function(){},deep:!0,immediate:!0}},computed:{style:function(){return{left:this.setPx(this.data.left),top:this.setPx(this.data.top),width:this.setPx(this.data.width),height:this.setPx(this.data.height),zIndex:this.data.zIndex}},dragXStyle:function(){return{transform:"scale(".concat(1/this.option.scale,")"),"transform-origin":"right bottom"}},dragYStyle:function(){return{transform:"scale(".concat(1/this.option.scale,") rotate(-90deg)"),"transform-origin":"0 0"}},dianStyle:function(){return function(t){var e=3*(1/this.option.scale||1),o={width:e+"px",height:e+"px"};switch(t){case"left-center":o.top="calc(50% - ".concat(e/2,"px)");break;case"top":o.left="calc(50% - ".concat(e/2,"px)");break;case"right-center":o.top="calc(50% - ".concat(e/2,"px)");break;case"bottom":o.left="calc(50% - ".concat(e/2,"px)")}return o}}},methods:{setPx:function(t){try{return Number(t)+"px"}catch(t){return"0px"}},down:function(t){var e=this;this.option.dragable&&(this.sb_bkx=t.clientX,this.sb_bky=t.clientY,this.start={mouseX:t.clientX,mouseY:t.clientY,left:this.data.left,top:this.data.top},this.isDown=!0,document.onmousemove=function(t){e.move(t)},document.onmouseup=function(t){e.up(t)},this.$emit("movestart",{start:this.start,item:this.item}))},move:function(t){if(this.option.dragable&&this.isDown){var e=this.round(this.start.left+(t.clientX-this.start.mouseX)/this.option.scale),o=this.round(this.start.top+(t.clientY-this.start.mouseY)/this.option.scale);this.$emit("moving",{left:e,top:o})}},up:function(t){this.isDown=!1,this.dianIsDown=!1,document.onmousemove=null,document.onmouseup=null;t.clientX,this.sb_bkx,t.clientY,this.sb_bky;this.$emit("movestop")},clickStop:function(){return!1},dian:function(t,e,o){var n=this;if(this.option.dragable){this.dianIsDown=!0;var a=t.clientX,i=t.clientY,r=e.width,s=e.height,d=e.left,c=e.top,l=o,u=e;document.onmousemove=function(t){if(n.option.dragable&&n.dianIsDown){var e=t.clientX-a,o=t.clientY-i;switch(l){case"left-top":u.width=n.round(n.numVal(r-e/n.option.scale)),u.height=n.round(n.numVal(s-o/n.option.scale)),u.left=n.round(d+e/n.option.scale),u.top=n.round(c+o/n.option.scale);break;case"left-center":u.width=n.round(n.numVal(r-e/n.option.scale)),u.left=n.round(d+e/n.option.scale);break;case"left-bottom":case"left-bottom":u.width=n.round(n.numVal(r-e/n.option.scale)),u.height=n.round(n.numVal(s+o/n.option.scale)),u.left=n.round(d+e/n.option.scale);break;case"top":u.height=n.round(n.numVal(s-o/n.option.scale)),u.top=n.round(c+o/n.option.scale);break;case"bottom":u.height=n.round(n.numVal(s+o/n.option.scale));break;case"right-top":u.width=n.round(n.numVal(r+e/n.option.scale)),u.height=n.round(n.numVal(s-o/n.option.scale)),u.top=n.round(c+o/n.option.scale);break;case"right-center":u.width=n.round(n.numVal(r+e/n.option.scale));break;case"right-bottom":u.width=n.round(n.numVal(r+e/n.option.scale)),u.height=n.round(n.numVal(s+o/n.option.scale))}}},document.onmouseup=function(t){n.$emit("change-size-stop",n.data),n.up(t)}}},numVal:function(t){return t<10?10:t},mouseover:function(t){this.option.dragable&&(this.hoverDrag=!0,this.$emit("focus"))},mouseleave:function(t){this.option.dragable&&(this.hoverDrag=!1,this.$emit("blur"))},round:function(t){return Math.round(Number(t))}}};function o(t,e,o,n,a,i,r,s,d,c){"boolean"!=typeof r&&(d=s,s=r,r=!1);const l="function"==typeof o?o.options:o;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),n&&(l._scopeId=n),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(l.functional){const t=l.render;l.render=function(e,o){return u.call(o),t(e,o)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return o}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function a(t){return(t,e)=>function(t,e){const o=n?e.media||"default":t,a=r[o]||(r[o]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);let o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(o),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{const t=a.ids.size-1,e=document.createTextNode(o),n=a.element.childNodes;n[t]&&a.element.removeChild(n[t]),n.length?a.element.insertBefore(e,n[t]):a.element.appendChild(e)}}}(t,e)}let i;const r={};var s=o({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:t.key,staticClass:"drag",class:{active:t.data.active,hover:t.hoverDrag},style:t.style,attrs:{"data-left":t.data.left,"data-top":t.data.top,"data-scale":2},on:{mousedown:function(e){return e.stopPropagation(),t.down(e)},mouseover:function(e){return e.stopPropagation(),t.mouseover(e)},mouseleave:t.mouseleave,click:function(e){return e.stopPropagation(),t.clickStop(e)}}},[t._t("default"),t._v(" "),t.data.active?[o("div",{staticClass:"drag-x flex-aic",style:t.dragXStyle},[t._v("X："+t._s(t.data.left))]),t._v(" "),o("div",{staticClass:"drag-y flex-aic",style:t.dragYStyle},[t._v("Y："+t._s(t.data.top))])]:t._e(),t._v(" "),t.data.active?[o("div",{staticClass:"drag-dian drag-left-top",style:t.dianStyle("left-top"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-center",style:t.dianStyle("left-center"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-bottom",style:t.dianStyle("left-bottom"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-top",style:t.dianStyle("top"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-bottom",style:t.dianStyle("bottom"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-top",style:t.dianStyle("right-top"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-center",style:t.dianStyle("right-center"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-bottom",style:t.dianStyle("right-bottom"),on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-bottom")}}})]:t._e()],2)},staticRenderFns:[]},(function(t){t&&t("data-v-47f7d7c1_0",{source:".drag[data-v-47f7d7c1]{z-index:1;width:50px;height:50px;position:absolute;cursor:pointer;user-select:none}.drag.active .drag-x[data-v-47f7d7c1]{font-size:12px;line-height:15px;display:block;position:absolute;left:-100px;top:-15px;width:100px;text-align:right;color:rgba(0,0,255,.5);border-bottom:1px solid rgba(0,0,255,.1);padding-right:10px;box-sizing:border-box}.drag.active .drag-y[data-v-47f7d7c1]{font-size:12px;line-height:15px;display:block;position:absolute;left:0;top:0;padding-left:10px;box-sizing:border-box;width:100px;color:rgba(0,0,255,.5);border-top:1px solid rgba(0,0,255,.1)}.drag.hover[data-v-47f7d7c1]{background-color:rgba(0,0,255,.1)}.drag.active[data-v-47f7d7c1]{background-color:rgba(0,0,255,.3)}.drag-dian[data-v-47f7d7c1]{position:absolute;background-color:#fff;border:1px solid #000}.drag-left-top[data-v-47f7d7c1]{left:0;top:0;cursor:nw-resize}.drag-left-center[data-v-47f7d7c1]{left:0;cursor:w-resize}.drag-left-bottom[data-v-47f7d7c1]{left:0;bottom:0;cursor:sw-resize}.drag-right-top[data-v-47f7d7c1]{right:0;top:0;cursor:ne-resize}.drag-right-center[data-v-47f7d7c1]{right:0;cursor:e-resize}.drag-right-bottom[data-v-47f7d7c1]{right:0;bottom:0;cursor:se-resize}.drag-top[data-v-47f7d7c1]{top:0;cursor:n-resize}.drag-bottom[data-v-47f7d7c1]{bottom:0;cursor:s-resize}",map:void 0,media:void 0})}),e,"data-v-47f7d7c1",!1,void 0,!1,a,void 0,void 0),d=function(t){d.installed||(d.installed=!0,t.component("GaoVueDragable",s))},c={install:d},l=null;return"undefined"!=typeof window?l=window.Vue:"undefined"!=typeof global&&(l=global.Vue),l&&l.use(c),s.install=d,t.default=s,Object.defineProperty(t,"__esModule",{value:!0}),t}({});