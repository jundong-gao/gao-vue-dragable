var GaoVueDragable=function(t){"use strict";var e={name:"GaoVueDragable",props:["option","data"],data:function(){return{key:"drag"+(t=Date.parse(new Date),window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)}))),item:{},isDown:!1,dianIsDown:!1,sb_bkx:0,sb_bky:0,start:{}};var t},watch:{option:{handler:function(){console.log("option改变",this.option)},deep:!0,immediate:!0}},computed:{style:function(){return{left:this.setPx(this.data.left),top:this.setPx(this.data.top),width:this.setPx(this.data.width),height:this.setPx(this.data.height),zIndex:this.data.zIndex}},dianStyle:function(){var t=4*(1/this.option.scale||1);return{width:t+"px",height:t+"px"}}},methods:{setPx:function(t){try{return Number(t)+"px"}catch(t){return"0px"}},down:function(t){var e=this;this.option.dragable&&(this.sb_bkx=t.clientX-t.target.offsetLeft,this.sb_bky=t.clientY-t.target.offsetTop,this.start={x:t.clientX,y:t.clientY},this.isDown=!0,document.onmousemove=function(t){e.move(t)},document.onmouseup=function(t){e.up(t)},this.$emit("movestart",{start:this.start,item:this.item}))},move:function(t){if(this.option.dragable&&this.isDown){var e=t.clientX-this.sb_bkx,o=t.clientY-this.sb_bky,n={offsetx:t.clientX-this.start.x,offsety:t.clientY-this.start.y,left:e,top:o};this.$emit("moving",n)}},up:function(t){this.isDown=!1,this.dianIsDown=!1,document.onmousemove=null,document.onmouseup=null,this.$emit("movestop",this.item)},clickStop:function(){return!1},dian:function(t,e,o){var n=this;if(this.option.dragable){this.dianIsDown=!0;var a=t.clientX,i=t.clientY,r=e.width,s=e.height,d=e.left,c=e.top,l=o,u=e;document.onmousemove=function(t){if(n.option.dragable&&n.dianIsDown){var e=t.clientX-a,o=t.clientY-i;switch(l){case"left-top":u.width=n.numVal(r-e),u.height=n.numVal(s-o),u.left=d+e,u.top=c+o;break;case"left-center":u.width=n.numVal(r-e),u.left=d+e;break;case"left-bottom":case"left-bottom":u.width=n.numVal(r-e),u.height=n.numVal(s+o),u.left=d+e;break;case"top":u.height=n.numVal(s-o),u.top=c+o;break;case"bottom":u.height=n.numVal(s+o);break;case"right-top":u.width=n.numVal(r+e),u.height=n.numVal(s-o),u.top=c+o;break;case"right-center":u.width=n.numVal(r+e);break;case"right-bottom":u.width=n.numVal(r+e),u.height=n.numVal(s+o)}}},document.onmouseup=function(t){n.$emit("change-size-stop",n.data),n.up(t)}}},numVal:function(t){return t<10?10:t},mouseover:function(t){this.option.dragable&&(t.target.classList.add("hover"),this.$emit("focus"))},mouseleave:function(t){this.option.dragable&&(t.target.classList.remove("hover"),this.$emit("blur"))}}};function o(t,e,o,n,a,i,r,s,d,c){"boolean"!=typeof r&&(d=s,s=r,r=!1);const l="function"==typeof o?o.options:o;let u;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),n&&(l._scopeId=n),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):e&&(u=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(l.functional){const t=l.render;l.render=function(e,o){return u.call(o),t(e,o)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,u):[u]}return o}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function a(t){return(t,e)=>function(t,e){const o=n?e.media||"default":t,a=r[o]||(r[o]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);let o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(o),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{const t=a.ids.size-1,e=document.createTextNode(o),n=a.element.childNodes;n[t]&&a.element.removeChild(n[t]),n.length?a.element.insertBefore(e,n[t]):a.element.appendChild(e)}}}(t,e)}let i;const r={};var s=o({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:t.key,staticClass:"drag",class:{active:t.data.active},style:t.style,attrs:{"data-left":t.data.left,"data-top":t.data.top},on:{mousedown:function(e){return e.stopPropagation(),t.down(e)},mouseover:function(e){return e.stopPropagation(),t.mouseover(e)},mouseleave:t.mouseleave,click:function(e){return e.stopPropagation(),t.clickStop(e)}}},[t._t("default"),t._v(" "),t.data.active?[o("div",{staticClass:"drag-dian drag-left-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-bottom")}}})]:t._e()],2)},staticRenderFns:[]},(function(t){t&&t("data-v-2dc92c8c_0",{source:".drag[data-v-2dc92c8c]{z-index:1;width:50px;height:50px;position:absolute;cursor:pointer;user-select:none}.drag.active[data-v-2dc92c8c]::before{font-size:12px;line-height:15px;content:attr(data-left);display:block;position:absolute;left:-100px;top:-15px;width:100px;text-align:right;color:rgba(0,0,255,.5);border-bottom:1px solid rgba(0,0,255,.1);padding-right:20px;box-sizing:border-box}.drag.active[data-v-2dc92c8c]::after{font-size:12px;line-height:15px;content:attr(data-top);display:block;position:absolute;top:-100px;left:0;padding-right:25px;box-sizing:border-box;width:100px;transform:rotate(90deg);transform-origin:left top;text-align:right;color:rgba(0,0,255,.5);border-top:1px solid rgba(0,0,255,.1)}.drag.hover[data-v-2dc92c8c]{background-color:rgba(0,0,255,.1)}.drag.active[data-v-2dc92c8c]{background-color:rgba(0,0,255,.3)}.drag-dian[data-v-2dc92c8c]{position:absolute;background-color:#fff;border:1px solid #000}.drag-left-top[data-v-2dc92c8c]{left:-1px;top:-1px;cursor:nw-resize}.drag-left-center[data-v-2dc92c8c]{left:-1px;top:calc(50% - 1px);cursor:w-resize}.drag-left-bottom[data-v-2dc92c8c]{left:-1px;bottom:-1px;cursor:sw-resize}.drag-right-top[data-v-2dc92c8c]{right:-1px;top:-1px;cursor:ne-resize}.drag-right-center[data-v-2dc92c8c]{right:-1px;top:calc(50% - 1px);cursor:e-resize}.drag-right-bottom[data-v-2dc92c8c]{right:-1px;bottom:-1px;cursor:se-resize}.drag-top[data-v-2dc92c8c]{left:calc(50% - 1px);top:-1px;cursor:n-resize}.drag-bottom[data-v-2dc92c8c]{left:calc(50% - 1px);bottom:-1px;cursor:s-resize}",map:void 0,media:void 0})}),e,"data-v-2dc92c8c",!1,void 0,!1,a,void 0,void 0),d=function(t){d.installed||(d.installed=!0,t.component("GaoVueDragable",s))},c={install:d},l=null;return"undefined"!=typeof window?l=window.Vue:"undefined"!=typeof global&&(l=global.Vue),l&&l.use(c),s.install=d,t.default=s,Object.defineProperty(t,"__esModule",{value:!0}),t}({});