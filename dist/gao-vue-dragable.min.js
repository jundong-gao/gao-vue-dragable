var GaoVueDragable=function(t){"use strict";var e={name:"GaoVueDragable",props:["option","data"],data:function(){return{key:"drag"+(t=Date.parse(new Date),window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)}))),item:{},isDown:!1,dianIsDown:!1,sb_bkx:0,sb_bky:0,start:{}};var t},watch:{option:{handler:function(){},deep:!0,immediate:!0}},computed:{style:function(){return{left:this.setPx(this.data.left),top:this.setPx(this.data.top),width:this.setPx(this.data.width),height:this.setPx(this.data.height),zIndex:this.data.zIndex}},dragXStyle:function(){return{transform:"scale(".concat(1/this.option.scale,")"),"transform-origin":"right bottom"}},dragYStyle:function(){return{transform:"scale(".concat(1/this.option.scale,") rotate(-90deg)"),"transform-origin":"0 0"}},dianStyle:function(){var t=3*(1/this.option.scale||1);return{width:t+"px",height:t+"px"}}},methods:{setPx:function(t){try{return Number(t)+"px"}catch(t){return"0px"}},down:function(t){var e=this;this.option.dragable&&(this.sb_bkx=t.clientX,this.sb_bky=t.clientY,this.start={mouseX:t.clientX,mouseY:t.clientY,left:this.data.left,top:this.data.top},this.isDown=!0,document.onmousemove=function(t){e.move(t)},document.onmouseup=function(t){e.up(t)},this.$emit("movestart",{start:this.start,item:this.item}))},move:function(t){if(this.option.dragable&&this.isDown){var e=this.round(this.start.left+(t.clientX-this.start.mouseX)/this.option.scale),o=this.round(this.start.top+(t.clientY-this.start.mouseY)/this.option.scale);this.$emit("moving",{left:e,top:o})}},up:function(t){this.isDown=!1,this.dianIsDown=!1,document.onmousemove=null,document.onmouseup=null;t.clientX,this.sb_bkx,t.clientY,this.sb_bky;this.$emit("movestop")},clickStop:function(){return!1},dian:function(t,e,o){var a=this;if(this.option.dragable){this.dianIsDown=!0;var n=t.clientX,i=t.clientY,s=e.width,r=e.height,d=e.left,l=e.top,c=o,u=e;document.onmousemove=function(t){if(a.option.dragable&&a.dianIsDown){var e=t.clientX-n,o=t.clientY-i;switch(c){case"left-top":u.width=a.round(a.numVal(s-e/a.option.scale)),u.height=a.round(a.numVal(r-o/a.option.scale)),u.left=a.round(d+e/a.option.scale),u.top=a.round(l+o/a.option.scale);break;case"left-center":u.width=a.round(a.numVal(s-e/a.option.scale)),u.left=a.round(d+e/a.option.scale);break;case"left-bottom":case"left-bottom":u.width=a.round(a.numVal(s-e/a.option.scale)),u.height=a.round(a.numVal(r+o/a.option.scale)),u.left=a.round(d+e/a.option.scale);break;case"top":u.height=a.round(a.numVal(r-o/a.option.scale)),u.top=a.round(l+o/a.option.scale);break;case"bottom":u.height=a.round(a.numVal(r+o/a.option.scale));break;case"right-top":u.width=a.round(a.numVal(s+e/a.option.scale)),u.height=a.round(a.numVal(r-o/a.option.scale)),u.top=a.round(l+o/a.option.scale);break;case"right-center":u.width=a.round(a.numVal(s+e/a.option.scale));break;case"right-bottom":u.width=a.round(a.numVal(s+e/a.option.scale)),u.height=a.round(a.numVal(r+o/a.option.scale))}}},document.onmouseup=function(t){a.$emit("change-size-stop",a.data),a.up(t)}}},numVal:function(t){return t<10?10:t},mouseover:function(t){this.option.dragable&&(t.target.classList.add("hover"),this.$emit("focus"))},mouseleave:function(t){this.option.dragable&&(t.target.classList.remove("hover"),this.$emit("blur"))},round:function(t){return Math.round(Number(t))}}};function o(t,e,o,a,n,i,s,r,d,l){"boolean"!=typeof s&&(d=r,r=s,s=!1);const c="function"==typeof o?o.options:o;let u;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,n&&(c.functional=!0)),a&&(c._scopeId=a),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=u):e&&(u=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(c.functional){const t=c.render;c.render=function(e,o){return u.call(o),t(e,o)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,u):[u]}return o}const a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function n(t){return(t,e)=>function(t,e){const o=a?e.media||"default":t,n=s[o]||(s[o]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);let o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(o),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const t=n.ids.size-1,e=document.createTextNode(o),a=n.element.childNodes;a[t]&&n.element.removeChild(a[t]),a.length?n.element.insertBefore(e,a[t]):n.element.appendChild(e)}}}(t,e)}let i;const s={};var r=o({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:t.key,staticClass:"drag",class:{active:t.data.active},style:t.style,attrs:{"data-left":t.data.left,"data-top":t.data.top,"data-scale":2},on:{mousedown:function(e){return e.stopPropagation(),t.down(e)},mouseover:function(e){return e.stopPropagation(),t.mouseover(e)},mouseleave:t.mouseleave,click:function(e){return e.stopPropagation(),t.clickStop(e)}}},[t._t("default"),t._v(" "),t.data.active?[o("div",{staticClass:"drag-x flex-aic",style:t.dragXStyle},[t._v("X："+t._s(t.data.left))]),t._v(" "),o("div",{staticClass:"drag-y flex-aic",style:t.dragYStyle},[t._v("Y："+t._s(t.data.top))])]:t._e(),t._v(" "),t.data.active?[o("div",{staticClass:"drag-dian drag-left-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-left-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"left-bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"bottom")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-top",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-top")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-center",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-center")}}}),t._v(" "),o("div",{staticClass:"drag-dian drag-right-bottom",style:t.dianStyle,on:{mousedown:function(e){return e.stopPropagation(),t.dian(e,t.data,"right-bottom")}}})]:t._e()],2)},staticRenderFns:[]},(function(t){t&&t("data-v-24a468e6_0",{source:".drag[data-v-24a468e6]{z-index:1;width:50px;height:50px;position:absolute;cursor:pointer;user-select:none}.drag.active .drag-x[data-v-24a468e6]{font-size:12px;line-height:15px;display:block;position:absolute;left:-100px;top:-15px;width:100px;text-align:right;color:rgba(0,0,255,.5);border-bottom:1px solid rgba(0,0,255,.1);padding-right:10px;box-sizing:border-box}.drag.active .drag-y[data-v-24a468e6]{font-size:12px;line-height:15px;display:block;position:absolute;left:0;top:0;padding-left:10px;box-sizing:border-box;width:100px;color:rgba(0,0,255,.5);border-top:1px solid rgba(0,0,255,.1)}.drag.hover[data-v-24a468e6]{background-color:rgba(0,0,255,.1)}.drag.active[data-v-24a468e6]{background-color:rgba(0,0,255,.3)}.drag-dian[data-v-24a468e6]{position:absolute;background-color:#fff;border:1px solid #000}.drag-left-top[data-v-24a468e6]{left:0;top:0;cursor:nw-resize}.drag-left-center[data-v-24a468e6]{left:0;top:50%;cursor:w-resize}.drag-left-bottom[data-v-24a468e6]{left:0;bottom:0;cursor:sw-resize}.drag-right-top[data-v-24a468e6]{right:0;top:0;cursor:ne-resize}.drag-right-center[data-v-24a468e6]{right:0;top:50%;cursor:e-resize}.drag-right-bottom[data-v-24a468e6]{right:0;bottom:0;cursor:se-resize}.drag-top[data-v-24a468e6]{left:50%;top:0;cursor:n-resize}.drag-bottom[data-v-24a468e6]{left:50%;bottom:0;cursor:s-resize}",map:void 0,media:void 0})}),e,"data-v-24a468e6",!1,void 0,!1,n,void 0,void 0),d=function(t){d.installed||(d.installed=!0,t.component("GaoVueDragable",r))},l={install:d},c=null;return"undefined"!=typeof window?c=window.Vue:"undefined"!=typeof global&&(c=global.Vue),c&&c.use(l),r.install=d,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({});